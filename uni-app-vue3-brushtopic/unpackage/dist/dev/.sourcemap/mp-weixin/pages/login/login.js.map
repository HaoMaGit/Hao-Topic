{"version":3,"file":"login.js","sources":["pages/login/login.vue","D:/hbuilderX/HBuilderX.4.08.2024040127/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<script setup>\r\n\timport {\r\n\t\tonUnmounted,\r\n\t\tref\r\n\t} from 'vue'\r\n\timport {\r\n\t\ttoast\r\n\t} from '../../uni_modules/uv-ui-tools/libs/function';\r\n\t// 登录方式 0账号登录 1手机登录 2邮箱登录 \r\n\tconst loginWay = ref(0)\r\n\tconst phoneValue = ref('') // 手机号\r\n\tconst qqValue = ref('') // qq\r\n\tconst userValue = ref('') // 账户\r\n\tconst password = ref('') // 密码\r\n\tconst totalSecond = ref(60) // 总秒数\r\n\tconst second = ref(60) // 倒计时的秒数\r\n\tconst forgetPopup = ref() // 忘记密码弹出层\r\n\t// 输入的验证码\r\n\tconst codeValue = ref('')\r\n\tlet timer = null // 定时器 id\r\n\t// 获取验证码\r\n\tconst getCode = () => {\r\n\t\t// 如果定时器不存在并且秒数等于总秒数，则开启倒计时\r\n\t\tif (!timer && second.value === totalSecond.value) {\r\n\t\t\tconsole.log('开始倒计时');\r\n\t\t\t// 开启倒计时\r\n\t\t\ttimer = setInterval(() => {\r\n\t\t\t\tsecond.value--;\r\n\t\t\t\t// 如果归0了停止定时器\r\n\t\t\t\tif (second.value <= 0) {\r\n\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\ttimer = null; // 重置定时器 id\r\n\t\t\t\t\tsecond.value = totalSecond.value; // 归位\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t\t// 发送请求，获取验证码\r\n\t\t\t// const res = await getCode({\r\n\t\t\t// \tphone: formData.value.phoneNumber\r\n\t\t\t// })\r\n\t\t\ttoast('验证码已发送')\r\n\t\t\t// let codeTimer = setTimeout(() => {\r\n\t\t\t// \tformData.value.code = res.data\r\n\t\t\t// }, 2000)\r\n\t\t}\r\n\t}\r\n\t// 页面销毁清除定时器\r\n\tonUnmounted(() => {\r\n\t\tclearInterval(timer)\r\n\t})\r\n\t// 点击了关闭\r\n\tconst ceshi = () => {\r\n\t\tconsole.log('点击了关闭');\r\n\t}\r\n</script>\r\n<template>\r\n\t<view class=\"login-content\">\r\n\t\t<!-- 忘记密码弹出层 -->\r\n\t\t<uni-popup :mask-click=\"false\" ref=\"forgetPopup\" style=\"text-align: center;\" background-color=\"#fff\"\r\n\t\t\ttype=\"bottom\" border-radius=\"10px 10px 0 0\">\r\n\t\t\t<view class=\"title-box\" style=\"margin-top: 18rpx;color: #bbb;margin-bottom: 20rpx;\">\r\n\t\t\t\t<text style=\"font-size: 25rpx;\">忘记密码</text>\r\n\t\t\t</view>\r\n\t\t\t<uni-list>\r\n\t\t\t\t<uni-list-item title=\"手机号验证\" clickable></uni-list-item>\r\n\t\t\t\t<uni-list-item title=\"邮箱验证\" clickable></uni-list-item>\r\n\t\t\t\t<view class=\"placeholder\" style=\"width: 100%;height: 25rpx;background-color: #f7f7f7;\"></view>\r\n\t\t\t\t<uni-list-item title=\"取消\" @click=\"forgetPopup.close()\" clickable></uni-list-item>\r\n\t\t\t</uni-list>\r\n\t\t</uni-popup>\r\n\t\t<!-- 内部容器 -->\r\n\t\t<view class=\"content-box\">\r\n\t\t\t<h3 class=\"welcome\">{{ loginWay === 1 ? '手机快捷登录' : (loginWay === 2 ? 'QQ邮箱登录' : '欢迎登录') }}</h3>\r\n\t\t\t<text class=\"register\">未注册账号将自动注册</text>\r\n\t\t\t<!-- 输入框 -->\r\n\t\t\t<view class=\"input-box\">\r\n\t\t\t\t<text class=\"hint\">{{ loginWay === 1 ? '手机号' : (loginWay === 2 ? '邮箱' : '账号') }}</text>\r\n\t\t\t\t<uv-input v-if=\"loginWay === 0\" placeholder=\"请输入手机号或者邮箱\" v-model=\"userValue\"\r\n\t\t\t\t\tstyle=\"margin-bottom: 28rpx;margin-top: 15rpx;\"></uv-input>\r\n\t\t\t\t<uv-input v-if=\"loginWay === 1\" placeholder=\"请输入手机号\" v-model=\"phoneValue\"\r\n\t\t\t\t\tstyle=\"margin-bottom: 28rpx;margin-top: 15rpx;\"></uv-input>\r\n\t\t\t\t<uv-input v-if=\"loginWay === 2\" placeholder=\"请输入邮箱\" v-model=\"qqValue\"\r\n\t\t\t\t\tstyle=\"margin-bottom: 28rpx;margin-top: 15rpx;\"></uv-input>\r\n\r\n\t\t\t\t<text class=\"hint\">{{loginWay !== 1 ? '密码' : '验证码'}}</text>\r\n\t\t\t\t<uv-input v-if=\"loginWay !== 1\" placeholder=\"请输入密码\" v-model=\"phoneValue\"\r\n\t\t\t\t\tstyle=\"margin-bottom: 28rpx;margin-top: 15rpx;\"></uv-input>\r\n\t\t\t\t<uv-input v-if=\"loginWay === 1\" placeholder=\"请输入短信验证码\" style=\"margin-top: 15rpx;\" v-model=\"codeValue\"\r\n\t\t\t\t\tmaxlength=\"6\">\r\n\t\t\t\t\t<!-- vue3模式下必须使用v-slot:suffix -->\r\n\t\t\t\t\t<template v-slot:suffix>\r\n\t\t\t\t\t\t<text :class=\"{'code-style': true, 'get-style' : phoneValue?.length === 11}\" @click=\"getCode()\">\r\n\t\t\t\t\t\t\t{{ second === totalSecond ? '获取验证码' :\r\n          `重新获取${second}秒` }}</text>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</uv-input>\r\n\r\n\t\t\t\t<!-- 登录按钮 -->\r\n\t\t\t\t<view class=\"loginBtn\">\r\n\t\t\t\t\t<text class=\"login\">登陆</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 忘记密码区域 -->\r\n\t\t\t\t<view class=\"forget-box\">\r\n\t\t\t\t\t<text class=\"forget\" @click=\"forgetPopup.open()\">忘记密码？</text>\r\n\t\t\t\t\t<text class=\"forget\" v-if=\"loginWay !== 0\" @click=\"loginWay = 0\">账号登录</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 底部第三方登录手机或者邮箱登录 -->\r\n\t\t\t<view class=\"icon-box\">\r\n\t\t\t\t<!-- 手机号登录 -->\r\n\t\t\t\t<view class=\"phone-login-box\" @click=\"loginWay = 1\">\r\n\t\t\t\t\t<image style=\"width: 55rpx;height: 55rpx;\" src=\"../../common/image/phone.png\" mode=\"aspectFill\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- qq邮箱登录 -->\r\n\t\t\t\t<view class=\"qq-login-box\" @click=\"loginWay = 2\">\r\n\t\t\t\t\t<image class=\"image-style\" src=\"../../common/image/QQ.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n\t.login-content {\r\n\t\twidth: 100%;\r\n\t\theight: 90vh;\r\n\t\tpadding: 80rpx;\r\n\r\n\t\t.content-box {\r\n\t\t\tmargin-top: 100rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 50vh;\r\n\r\n\t\t\t.welcome {\r\n\t\t\t\tfont-size: 58rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #042f58;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.register {\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tcolor: #c5c5cd;\r\n\t\t\t\tfont-weight: 520;\r\n\t\t\t}\r\n\r\n\t\t\t.icon-box {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\twidth: 78%;\r\n\t\t\t\theight: 10%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\t/* 调整左位置，使其真正居中 */\r\n\t\t\t\tbottom: 5%;\r\n\r\n\t\t\t\t.phone-login-box,\r\n\t\t\t\t.qq-login-box {\r\n\t\t\t\t\twidth: 90rpx;\r\n\t\t\t\t\theight: 90rpx;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\tbackground-color: #afafaf;\r\n\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.image-style {\r\n\t\t\t\t\twidth: 66rpx;\r\n\t\t\t\t\theight: 66rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* 给其中一个元素添加右边距以创建间距 */\r\n\t\t\t\t.phone-login-box {\r\n\t\t\t\t\tmargin-right: 60rpx;\r\n\t\t\t\t\t/* 根据需要调整间距大小 */\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.input-box {\r\n\t\t\t\twidth: 78%;\r\n\t\t\t\tmargin-top: 38rpx;\r\n\r\n\t\t\t\t.forget-box {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tmargin-top: 12rpx;\r\n\t\t\t\t\tcolor: #bbb;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.hint {\r\n\t\t\t\t\tcolor: #bbb;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.code-style {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #bbbbbb;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.get-style {\r\n\t\t\t\t\tcolor: black;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.loginBtn {\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tline-height: 75rpx;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 75rpx;\r\n\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\tmargin-top: 38rpx;\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\tbackground-color: #3c9cff;\r\n\t\t\t\t\tcolor: #fff;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/FullStackDemo/豪刷题AI/uni-app-vue3-brushtopic/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","toast","onUnmounted"],"mappings":";;;;;;;;;;;;;;;;;;;;;AASC,UAAM,WAAWA,cAAG,IAAC,CAAC;AACtB,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,UAAUA,cAAG,IAAC,EAAE;AACtB,UAAM,YAAYA,cAAG,IAAC,EAAE;AACPA,kBAAAA,IAAI,EAAE;AACvB,UAAM,cAAcA,cAAG,IAAC,EAAE;AAC1B,UAAM,SAASA,cAAG,IAAC,EAAE;AACrB,UAAM,cAAcA,cAAAA,IAAK;AAEzB,UAAM,YAAYA,cAAG,IAAC,EAAE;AACxB,QAAI,QAAQ;AAEZ,UAAM,UAAU,MAAM;AAErB,UAAI,CAAC,SAAS,OAAO,UAAU,YAAY,OAAO;AACjDC,sBAAAA,MAAY,MAAA,OAAA,+BAAA,OAAO;AAEnB,gBAAQ,YAAY,MAAM;AACzB,iBAAO;AAEP,cAAI,OAAO,SAAS,GAAG;AACtB,0BAAc,KAAK;AACnB,oBAAQ;AACR,mBAAO,QAAQ,YAAY;AAAA,UAC3B;AAAA,QACD,GAAE,GAAI;AAKPC,kDAAAA,MAAM,QAAQ;AAAA,MAId;AAAA,IACD;AAEDC,kBAAAA,YAAY,MAAM;AACjB,oBAAc,KAAK;AAAA,IACrB,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CF,GAAG,WAAW,eAAe;"}