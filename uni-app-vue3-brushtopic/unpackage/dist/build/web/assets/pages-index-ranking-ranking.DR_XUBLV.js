import{r as a,g as l,o as e,c as t,a as r,b as s,w as o,s as n,h as u,i,d as c,e as v,y as d,j as m,n as p,t as y,k,l as f,F as g,v as _,p as b,q as x,S as C}from"./index-BGdZDLVO.js";import{_ as S}from"./uv-avatar.NI8NZdgo.js";import{_ as h,r as z}from"./request.RFVXOHA2.js";import{_ as j}from"./uv-empty.C1WgQU4D.js";import{d as F,e as w}from"./index.hapG-hsu.js";import"./uv-icon.DXxGSX6z.js";const B=h({__name:"ranking",setup(h){const B=a(!0),A=a(),D=a([]);a(JSON.parse(l("h5UserInfo")));const q=a(),I=async a=>{n();const l=await F(a);l.data&&(A.value=l.data,D.value=A.value.slice(0,3),A.value=A.value.slice(3)),u()},J=async a=>{const l=await w(a);l.data&&(q.value=l.data)};e((()=>{!0===B.value?(I(1),J(1)):(I(2),J(2))})),a([{},{},{},{},{},{},{},{},{},{},{}]),a(0);const N=a(l("role")),O=t((()=>{const a={1:"linear-gradient(to bottom, rgba(243, 156, 18, 0.6), rgba(243, 156, 18, 0.3) 30%, rgba(243, 156, 18, 0.1) 60%, transparent 90%)",2:"linear-gradient(to bottom, rgba(33, 33, 33, 0.8), rgba(212, 175, 55, 0.4) 40%, rgba(212, 175, 55, 0.1) 70%, transparent 90%)",0:"linear-gradient(to bottom, rgba(22, 119, 255, 0.6), rgba(22, 119, 255, 0.3) 30%, rgba(22, 119, 255, 0.1) 60%, transparent 90%)"};return a[N.value]||a[0]})),U=a=>{console.log("==========>",a);const l={admin:"#564021",member:"#712a07",user:"#203c71"};return l[a]||l[0]};return(a,l)=>{const e=b,t=i,n=x,u=z(r("uv-avatar"),S),h=z(r("uv-empty"),j),F=C;return c(),s(t,{class:"ranking"},{default:o((()=>[v(t,{class:"ranking-box",style:p({background:O.value})},{default:o((()=>[v(t,{class:"page"},{default:o((()=>[v(t,{class:"tab"},{default:o((()=>[v(t,{class:d({"tab-active":B.value}),onClick:l[0]||(l[0]=a=>(B.value=!0,I(1),J(1)))},{default:o((()=>[v(e,null,{default:o((()=>[m("æ—¥æŽ’è¡Œ")])),_:1})])),_:1},8,["class"]),v(t,{class:d({"tab-active":!B.value}),onClick:l[1]||(l[1]=a=>(B.value=!1,I(2),J(2)))},{default:o((()=>[v(e,null,{default:o((()=>[m("æ€»æŽ’è¡Œ")])),_:1})])),_:1},8,["class"])])),_:1}),v(t,{class:"top"},{default:o((()=>[v(t,{class:"top-item",style:p({opacity:D.value[1]?1:0})},{default:o((()=>{var a,l,t,r;return[(null==(a=D.value[1])?void 0:a.avatar)?(c(),s(n,{key:0,class:"top-item-avatar",src:null==(l=D.value[1])?void 0:l.avatar,style:{border:"4rpx solid #C0C0C0"}},null,8,["src"])):(c(),s(u,{key:1,size:"69",style:{border:"4rpx solid #C0C0C0"},text:null==(t=D.value[1])?void 0:t.nickname.charAt(0),fontSize:"18",randomBgColor:""},null,8,["text"])),v(e,{class:"top-item-name",style:p({color:U(null==(r=D.value[1])?void 0:r.role)})},{default:o((()=>{var a;return[m(y(null==(a=D.value[1])?void 0:a.nickname),1)]})),_:1},8,["style"]),v(e,{class:"top-item-score"},{default:o((()=>{var a;return[m(y(null==(a=D.value[1])?void 0:a.scope),1)]})),_:1})]})),_:1},8,["style"]),v(t,{class:"top-item",style:p({paddingBottom:"20rpx",opacity:D.value[0]?1:0})},{default:o((()=>{var a,l,t,r;return[(null==(a=D.value[0])?void 0:a.avatar)?(c(),s(n,{key:0,class:"top-item-avatar",src:null==(l=D.value[0])?void 0:l.avatar,style:{border:"4rpx solid #FFD700"}},null,8,["src"])):(c(),s(u,{key:1,size:"69.6",style:{border:"4rpx solid #FFD700"},text:null==(t=D.value[0])?void 0:t.nickname.charAt(0),fontSize:"18",randomBgColor:""},null,8,["text"])),v(e,{class:"top-item-name",style:p({color:U(null==(r=D.value[0])?void 0:r.role)})},{default:o((()=>{var a;return[m(y(null==(a=D.value[0])?void 0:a.nickname),1)]})),_:1},8,["style"]),v(e,{class:"top-item-score"},{default:o((()=>{var a;return[m(y(null==(a=D.value[0])?void 0:a.scope),1)]})),_:1})]})),_:1},8,["style"]),v(t,{class:"top-item",style:p({opacity:D.value[2]?1:0})},{default:o((()=>{var a,l,t,r;return[(null==(a=D.value[2])?void 0:a.avatar)?(c(),s(n,{key:0,class:"top-item-avatar",src:null==(l=D.value[2])?void 0:l.avatar,style:{border:"4rpx solid #CD7F32"}},null,8,["src"])):(c(),s(u,{key:1,size:"69.6",style:{border:"4rpx solid #CD7F32"},text:null==(t=D.value[2])?void 0:t.nickname.charAt(0),fontSize:"18",randomBgColor:""},null,8,["text"])),v(e,{class:"top-item-name",style:p({color:U(null==(r=D.value[2])?void 0:r.role)})},{default:o((()=>{var a;return[m(y(null==(a=D.value[2])?void 0:a.nickname),1)]})),_:1},8,["style"]),v(e,{class:"top-item-score"},{default:o((()=>{var a;return[m(y(null==(a=D.value[2])?void 0:a.scope),1)]})),_:1})]})),_:1},8,["style"])])),_:1}),v(t,{class:"ranking"},{default:o((()=>[v(F,{"scroll-top":0,"scroll-y":"true",style:{height:"950rpx"},class:"scroll-Y",onScrolltoupper:a.upper,onScrolltolower:a.lower,onScroll:a.scroll},{default:o((()=>[A.value&&0!==A.value.length?(c(!0),k(g,{key:0},f(A.value,((a,l)=>(c(),s(t,{class:"ranking-list-item",key:l},{default:o((()=>[v(e,{class:"ranking-list-number"},{default:o((()=>[m(y(l+4),1)])),_:2},1024),v(t,{class:"ranking-list-nickname"},{default:o((()=>[a.avatar?(c(),s(n,{key:0,src:a.avatar},null,8,["src"])):(c(),s(u,{key:1,size:"69",style:{border:"4rpx solid #C0C0C0"},text:a.nickname.charAt(0),fontSize:"18",randomBgColor:""},null,8,["text"])),v(e,{style:p({color:U(a.role)})},{default:o((()=>[m(y(a.nickname),1)])),_:2},1032,["style"])])),_:2},1024),v(e,{class:"ranking-list-score"},{default:o((()=>[m(y(a.scope),1)])),_:2},1024)])),_:2},1024)))),128)):(c(),s(h,{key:1,text:"è¿˜æ²¡æœ‰äººä¸Šæ¦œï½žå¿«åŽ»åˆ·é¢˜ï¼Œæˆä¸ºç¬¬ä¸€ä¸ªéœ¸æ¦œçš„äººï¼ðŸ”¥",icon:"../../../static/images/empty.png"}))])),_:1},8,["onScrolltoupper","onScrolltolower","onScroll"]),q.value?(c(),s(t,{key:0,class:"current-ranking"},{default:o((()=>[v(e,{class:"ranking-list-number current"},{default:o((()=>{var a;return[m(y(null==(a=q.value)?void 0:a.rank),1)]})),_:1}),v(t,{class:"ranking-list-nickname"},{default:o((()=>{var a,l,t;return[(null==(a=q.value)?void 0:a.avatar)?(c(),s(n,{key:0,src:null==(l=q.value)?void 0:l.avatar},null,8,["src"])):(c(),s(u,{key:1,size:"10",text:null==(t=q.value)?void 0:t.nickname.charAt(0),fontSize:"18",randomBgColor:""},null,8,["text"])),v(e,{style:p({color:U(q.value.role)})},{default:o((()=>{var a;return[m(y(null==(a=q.value)?void 0:a.nickname),1)]})),_:1},8,["style"])]})),_:1}),v(e,{class:"ranking-list-score"},{default:o((()=>{var a;return[m(y(null==(a=q.value)?void 0:a.scope),1)]})),_:1})])),_:1})):_("",!0)])),_:1})])),_:1})])),_:1},8,["style"])])),_:1})}}},[["__scopeId","data-v-55806abd"]]);export{B as default};
